<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试审核中心API</title>
</head>
<body>
    <h1>审核中心API测试</h1>
    <div id="results"></div>
    
    <script>
        async function testAuditAPI() {
            const results = document.getElementById('results');
            const apis = [
                '/api/audit/stats',
                '/api/audit/tasks',
                '/api/audit/policies',
                '/api/audit/auditors'
            ];
            
            for (const api of apis) {
                try {
                    const response = await fetch(`http://localhost:3001${api}`);
                    const data = await response.json();
                    
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <h3>${api}</h3>
                        <p>状态: ${response.ok ? '✅ 成功' : '❌ 失败'}</p>
                        <p>响应码: ${data.code}</p>
                        <p>消息: ${data.message}</p>
                        <pre>${JSON.stringify(data.data, null, 2).substring(0, 200)}...</pre>
                        <hr>
                    `;
                    results.appendChild(div);
                } catch (error) {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <h3>${api}</h3>
                        <p>状态: ❌ 错误</p>
                        <p>错误信息: ${error.message}</p>
                        <hr>
                    `;
                    results.appendChild(div);
                }
            }
        }
        
        testAuditAPI();
    </script>
</body>
</html>