<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【干货】云服务器性能优化的10个实战技巧 - 技术分享</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3B82F6',
                        elite: '#F97316',
                        top: '#EF4444'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .card-shadow { box-shadow: 0 4px 12px rgba(0,0,0,0.05); }
            .badge { @apply inline-flex items-center px-2 py-0.5 text-xs rounded-full font-medium; }
            .楼主-badge { @apply inline-flex items-center px-1.5 py-0.5 text-[10px] rounded bg-primary/10 text-primary font-medium; }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans text-gray-800">
    <!-- 顶部固定导航 -->
    <header class="bg-white shadow-sm z-50 sticky top-0">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-10 border-b">
                <div class="text-sm text-gray-500">今天是周三，9月3日</div>
                <div class="flex items-center space-x-4 text-sm">
                    <a href="#" class="text-gray-500 hover:text-primary transition-colors">帮助中心</a>
                    <a href="#" class="text-gray-500 hover:text-primary transition-colors">联系IT</a>
                    <div class="flex items-center"><i class="fa fa-bell-o text-gray-500 mr-1"></i><span class="text-gray-500">通知</span></div>
                </div>
            </div>
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center">
                        <i class="fa fa-cloud text-white text-xl"></i>
                    </div>
                    <h1 class="text-xl font-bold text-primary ml-3">金山云</h1>
                </div>
                <nav class="hidden md:flex items-center space-x-6">
                    <a href="#" class="text-gray-600 hover:text-primary py-5 transition-all">首页</a>
                    <a href="#" class="text-gray-600 hover:text-primary py-5 transition-all">AI工具箱</a>
                    <a href="forum-home.html" class="text-gray-600 hover:text-primary py-5 transition-all">论坛</a>
                    <a href="#" class="text-gray-600 hover:text-primary py-5 transition-all">学习平台</a>
                </nav>
                <div class="flex items-center space-x-4">
                    <div class="relative hidden md:block">
                        <input type="text" placeholder="搜索..." class="w-48 pl-8 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary text-sm" />
                        <i class="fa fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    </div>
                    <div class="flex items-center space-x-2 cursor-pointer">
                        <img src="https://picsum.photos/id/1005/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover" />
                        <span class="hidden md:inline text-sm font-medium">张明</span>
                        <i class="fa fa-angle-down text-gray-500"></i>
                    </div>
                    <button class="md:hidden text-gray-500 hover:text-primary"><i class="fa fa-bars text-xl"></i></button>
                </div>
            </div>
        </div>
    </header>

    <!-- 面包屑导航 -->
    <div class="bg-white border-b">
        <div class="container mx-auto px-4 py-3 text-sm">
            <a href="forum-home.html" class="text-gray-500 hover:text-primary">论坛首页</a>
            <i class="fa fa-angle-right text-gray-300 mx-2"></i>
            <a href="board-list.html" class="text-gray-500 hover:text-primary">技术分享</a>
            <i class="fa fa-angle-right text-gray-300 mx-2"></i>
            <span class="text-gray-800">【干货】云服务器性能优化的10个实战技巧</span>
        </div>
    </div>

    <!-- 帖子主体内容 -->
    <main class="container mx-auto px-4 py-6">
        <div class="flex flex-col lg:flex-row gap-6">
            <!-- 左侧帖子内容区 -->
            <div class="flex-1">
                <!-- 帖子头部 -->
                <div class="bg-white rounded-xl card-shadow p-5 mb-4">
                    <div class="flex items-center mb-3">
                        <span class="badge bg-top text-white mr-2"><i class="fa fa-thumb-tack mr-1"></i>置顶</span>
                        <span class="badge bg-elite text-white mr-2"><i class="fa fa-star mr-1"></i>精华</span>
                        <span class="text-sm text-gray-500">技术分享</span>
                    </div>
                    <h1 class="text-2xl font-bold mb-4">【干货】云服务器性能优化的10个实战技巧</h1>
                    <div class="flex items-center mb-6">
                        <img src="https://picsum.photos/id/1012/40/40" alt="作者头像" class="w-12 h-12 rounded-full object-cover mr-3" />
                        <div>
                            <div class="flex items-center">
                                <span class="font-medium">李华</span>
                                <!-- PRD AC1.2.2：楼主标识 -->
                                <span class="楼主-badge ml-2"><i class="fa fa-home mr-1"></i>楼主</span>
                                <span class="ml-2 text-xs text-gray-500">技术部 · 高级工程师</span>
                            </div>
                            <div class="text-xs text-gray-500 mt-1">
                                发布于 3天前 · 阅读 1256
                            </div>
                        </div>
                        <div class="ml-auto flex space-x-4">
                            <button class="flex items-center text-gray-500 hover:text-primary transition-colors">
                                <i class="fa fa-thumbs-o-up mr-1"></i> 89
                            </button>
                            <button class="flex items-center text-gray-500 hover:text-primary transition-colors">
                                <i class="fa fa-bookmark-o mr-1"></i> 收藏
                            </button>
                            <button class="flex items-center text-gray-500 hover:text-primary transition-colors">
                                <i class="fa fa-share mr-1"></i> 分享
                            </button>
                        </div>
                    </div>

                    <!-- 帖子内容（支持富文本） -->
                    <div class="prose max-w-none text-gray-700 mb-6">
                        <p>在日常工作中，云服务器的性能直接影响业务体验，本文总结了10个实战性的优化技巧，涵盖资源配置、网络优化、存储优化等方面，希望能帮助大家提升服务器性能。</p>
                        
                        <h3 class="text-lg font-semibold mt-6 mb-3">一、资源配置优化</h3>
                        <ol class="list-decimal pl-5 space-y-2">
                            <li>根据业务负载合理配置CPU和内存，避免资源浪费或不足</li>
                            <li>开启CPU超线程技术，提升并发处理能力</li>
                            <li>使用弹性伸缩，根据流量自动调整实例规格</li>
                        </ol>
                        
                        <h3 class="text-lg font-semibold mt-6 mb-3">二、网络优化</h3>
                        <p>网络延迟是影响用户体验的关键因素，建议：</p>
                        <ul class="list-disc pl-5 space-y-2">
                            <li>选择就近的地域节点部署服务</li>
                            <li>开启CDN加速静态资源</li>
                            <li>优化TCP参数，调整超时时间和窗口大小</li>
                        </ul>
                        
                        <div class="bg-gray-50 p-3 rounded-lg my-4">
                            <pre class="text-xs overflow-x-auto"><code># 优化TCP参数示例
net.ipv4.tcp_fin_timeout = 30
net.ipv4.tcp_tw_reuse = 1
net.ipv4.tcp_tw_recycle = 1</code></pre>
                        </div>
                        
                        <h3 class="text-lg font-semibold mt-6 mb-3">三、存储优化</h3>
                        <p>选择合适的存储类型，对性能影响很大：</p>
                        <img src="https://picsum.photos/id/180/800/400" alt="存储性能对比图" class="w-full h-auto rounded-lg my-4" />
                        <p>建议将数据库等IO密集型应用部署在SSD云盘上，提升读写性能。</p>
                    </div>

                    <!-- 版主操作区（仅版主可见） -->
                    <div class="flex flex-wrap gap-2 pt-4 border-t border-gray-100">
                        <button class="px-3 py-1.5 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors">
                            <i class="fa fa-edit mr-1"></i> 编辑帖子
                        </button>
                        <button class="px-3 py-1.5 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors">
                            <i class="fa fa-lock mr-1"></i> 锁定评论
                        </button>
                        <button class="px-3 py-1.5 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors">
                            <i class="fa fa-move mr-1"></i> 移动板块
                        </button>
                        <button class="px-3 py-1.5 text-sm bg-gray-100 text-gray-600 rounded hover:bg-gray-200 transition-colors">
                            <i class="fa fa-flag mr-1"></i> 举报管理
                        </button>
                    </div>
                </div>

                <!-- 评论区（PRD 2.3：支持多层回复） -->
                <div class="bg-white rounded-xl card-shadow mb-6">
                    <!-- 评论统计 -->
                    <div class="p-5 border-b border-gray-100">
                        <h2 class="text-lg font-semibold">评论区（42）</h2>
                    </div>

                    <!-- 评论输入框（PRD AC1.2.1：底部有评论框） -->
                    <div class="p-5 border-b border-gray-100">
                        <div class="flex gap-3">
                            <img src="https://picsum.photos/id/1005/40/40" alt="用户头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0" />
                            <div class="flex-1">
                                <textarea placeholder="分享你的观点..." class="w-full border border-gray-200 rounded-lg p-3 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary min-h-[80px]"></textarea>
                                <div class="flex items-center justify-between mt-3">
                                    <div class="flex space-x-3 text-gray-500">
                                        <button class="hover:text-primary transition-colors"><i class="fa fa-image mr-1"></i> 图片</button>
                                        <button class="hover:text-primary transition-colors"><i class="fa fa-code mr-1"></i> 代码</button>
                                        <button class="hover:text-primary transition-colors"><i class="fa fa-smile-o mr-1"></i> 表情</button>
                                    </div>
                                    <button class="bg-primary text-white px-4 py-2 rounded-lg text-sm hover:bg-primary/90 transition-colors">
                                        发表评论
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 评论列表 -->
                    <div class="divide-y divide-gray-100">
                        <!-- 一级评论1（楼主评论） -->
                        <div class="p-5 hover:bg-gray-50 transition-colors">
                            <div class="flex gap-3">
                                <img src="https://picsum.photos/id/1012/40/40" alt="评论者头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0" />
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        <span class="font-medium">李华</span>
                                        <!-- PRD AC1.2.2：楼主标识 -->
                                        <span class="楼主-badge ml-2"><i class="fa fa-home mr-1"></i>楼主</span>
                                        <span class="ml-2 text-xs text-gray-500">3天前</span>
                                    </div>
                                    <p class="text-sm text-gray-700 mb-3">感谢大家的关注，后续会继续分享更多优化实践，有疑问的同学可以随时提问~</p>
                                    <div class="flex items-center space-x-4 text-xs text-gray-500">
                                        <button class="hover:text-primary transition-colors"><i class="fa fa-thumbs-o-up mr-1"></i> 24</button>
                                        <button class="hover:text-primary transition-colors reply-btn"><i class="fa fa-reply mr-1"></i> 回复</button>
                                    </div>

                                    <!-- 二级回复（回复楼主） -->
                                    <div class="mt-4 pl-4 border-l-2 border-gray-100">
                                        <div class="flex gap-3">
                                            <img src="https://picsum.photos/id/1005/40/40" alt="回复者头像" class="w-8 h-8 rounded-full object-cover flex-shrink-0" />
                                            <div class="flex-1">
                                                <div class="flex items-center mb-1">
                                                    <span class="font-medium text-sm">张明</span>
                                                    <span class="ml-2 text-xs text-gray-500">2天前</span>
                                                </div>
                                                <p class="text-sm text-gray-700 mb-2">@李华 请问弹性伸缩的触发阈值怎么设置比较合理？</p>
                                                <div class="flex items-center space-x-4 text-xs text-gray-500">
                                                    <button class="hover:text-primary transition-colors"><i class="fa fa-thumbs-o-up mr-1"></i> 8</button>
                                                    <button class="hover:text-primary transition-colors reply-btn"><i class="fa fa-reply mr-1"></i> 回复</button>
                                                </div>

                                                <!-- 三级回复（楼主回复张明） -->
                                                <div class="mt-3 pl-4 border-l-2 border-gray-100">
                                                    <div class="flex gap-2">
                                                        <img src="https://picsum.photos/id/1012/40/40" alt="回复者头像" class="w-7 h-7 rounded-full object-cover flex-shrink-0" />
                                                        <div class="flex-1">
                                                            <div class="flex items-center mb-1">
                                                                <span class="font-medium text-sm">李华</span>
                                                                <span class="楼主-badge ml-2"><i class="fa fa-home mr-1"></i>楼主</span>
                                                                <span class="ml-2 text-xs text-gray-500">2天前</span>
                                                            </div>
                                                            <p class="text-sm text-gray-700 mb-2">@张明 建议根据CPU使用率（如70%）和内存使用率（如80%）设置，同时结合业务峰值时间调整</p>
                                                            <div class="flex items-center space-x-4 text-xs text-gray-500">
                                                                <button class="hover:text-primary transition-colors"><i class="fa fa-thumbs-o-up mr-1"></i> 5</button>
                                                                <button class="hover:text-primary transition-colors reply-btn"><i class="fa fa-reply mr-1"></i> 回复</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 一级评论2 -->
                        <div class="p-5 hover:bg-gray-50 transition-colors">
                            <div class="flex gap-3">
                                <img src="https://picsum.photos/id/1025/40/40" alt="评论者头像" class="w-10 h-10 rounded-full object-cover flex-shrink-0" />
                                <div class="flex-1">
                                    <div class="flex items-center mb-2">
                                        <span class="font-medium">王芳</span>
                                        <span class="ml-2 text-xs text-gray-500">2天前</span>
                                    </div>
                                    <p class="text-sm text-gray-700 mb-3">补充一点：对于数据库服务器，建议开启数据库缓存，同时定期优化SQL语句，避免慢查询影响性能</p>
                                    <div class="flex items-center space-x-4 text-xs text-gray-500">
                                        <button class="hover:text-primary transition-colors"><i class="fa fa-thumbs-o-up mr-1"></i> 16</button>
                                        <button class="hover:text-primary transition-colors reply-btn"><i class="fa fa-reply mr-1"></i> 回复</button>
                                    </div>

                                    <!-- 回复输入框（点击回复显示） -->
                                    <div class="mt-3 hidden reply-box">
                                        <div class="flex gap-2">
                                            <img src="https://picsum.photos/id/1005/40/40" alt="用户头像" class="w-8 h-8 rounded-full object-cover flex-shrink-0" />
                                            <div class="flex-1">
                                                <textarea placeholder="回复 @王芳..." class="w-full border border-gray-200 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary min-h-[60px]"></textarea>
                                                <div class="flex justify-end mt-2">
                                                    <button class="bg-gray-100 text-gray-600 px-3 py-1 rounded-lg text-xs mr-2 cancel-reply">取消</button>
                                                    <button class="bg-primary text-white px-3 py-1 rounded-lg text-xs">发送</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 加载更多评论 -->
                    <div class="p-4 text-center border-t border-gray-100">
                        <button class="text-primary text-sm hover:underline flex items-center justify-center">
                            <i class="fa fa-angle-down mr-1"></i> 加载更多评论
                        </button>
                    </div>
                </div>
            </div>

            <!-- 右侧信息栏 -->
            <div class="w-full lg:w-80">
                <!-- 作者信息 -->
                <div class="bg-white rounded-xl card-shadow p-5 mb-4">
                    <h3 class="text-lg font-semibold mb-4">作者信息</h3>
                    <div class="flex flex-col items-center text-center">
                        <img src="https://picsum.photos/id/1012/80/80" alt="作者头像" class="w-20 h-20 rounded-full object-cover mb-3" />
                        <h4 class="font-medium mb-1">李华</h4>
                        <p class="text-sm text-gray-500 mb-3">技术部 · 高级工程师</p>
                        <div class="flex justify-center space-x-4 text-sm text-gray-500 mb-4">
                            <div class="text-center">
                                <p class="font-medium text-gray-800">28</p>
                                <p>发布帖子</p>
                            </div>
                            <div class="text-center">
                                <p class="font-medium text-gray-800">1562</p>
                                <p>获得点赞</p>
                            </div>
                            <div class="text-center">
                                <p class="font-medium text-gray-800">328</p>
                                <p>发布评论</p>
                            </div>
                        </div>
                        <button class="w-full py-2 border border-primary text-primary rounded-lg text-sm hover:bg-primary hover:text-white transition-colors">
                            关注作者
                        </button>
                    </div>
                </div>

                <!-- 热门推荐 -->
                <div class="bg-white rounded-xl card-shadow p-5">
                    <h3 class="text-lg font-semibold mb-4">热门推荐</h3>
                    <div class="space-y-4">
                        <a href="#" class="block hover:text-primary transition-colors">
                            <h4 class="text-sm font-medium line-clamp-2">【实战】K8s集群部署与运维的最佳实践</h4>
                            <p class="text-xs text-gray-500 mt-1">2天前 · 876阅读</p>
                        </a>
                        <a href="#" class="block hover:text-primary transition-colors">
                            <h4 class="text-sm font-medium line-clamp-2">【原理】深入理解分布式系统的一致性算法</h4>
                            <p class="text-xs text-gray-500 mt-1">4天前 · 1024阅读</p>
                        </a>
                        <a href="#" class="block hover:text-primary transition-colors">
                            <h4 class="text-sm font-medium line-clamp-2">【工具】10个提高开发效率的VSCode插件</h4>
                            <p class="text-xs text-gray-500 mt-1">1周前 · 1532阅读</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- 移动端底部导航 -->
    <div class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg z-40">
        <div class="flex justify-around">
            <a href="#" class="flex flex-col items-center py-2 px-4 text-gray-500">
                <i class="fa fa-home text-lg"></i>
                <span class="text-xs mt-1">首页</span>
            </a>
            <a href="#" class="flex flex-col items-center py-2 px-4 text-gray-500">
                <i class="fa fa-wrench text-lg"></i>
                <span class="text-xs mt-1">工具</span>
            </a>
            <a href="forum-home.html" class="flex flex-col items-center py-2 px-4 text-primary">
                <i class="fa fa-comments-o text-lg"></i>
                <span class="text-xs mt-1">论坛</span>
            </a>
            <a href="#" class="flex flex-col items-center py-2 px-4 text-gray-500">
                <i class="fa fa-user-o text-lg"></i>
                <span class="text-xs mt-1">我的</span>
            </a>
        </div>
    </div>

    <script>
        // 回复按钮交互
        document.querySelectorAll('.reply-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                // 关闭其他打开的回复框
                document.querySelectorAll('.reply-box').forEach(box => {
                    if (box !== this.closest('.flex-1').querySelector('.reply-box')) {
                        box.classList.add('hidden');
                    }
                });
                // 切换当前回复框显示状态
                const replyBox = this.closest('.flex-1').querySelector('.reply-box');
                if (replyBox) {
                    replyBox.classList.toggle('hidden');
                    // 聚焦到文本框
                    if (!replyBox.classList.contains('hidden')) {
                        replyBox.querySelector('textarea').focus();
                    }
                }
            });
        });

        // 取消回复
        document.querySelectorAll('.cancel-reply').forEach(btn => {
            btn.addEventListener('click', function() {
                this.closest('.reply-box').classList.add('hidden');
            });
        });
    </script>
</body>
</html>
